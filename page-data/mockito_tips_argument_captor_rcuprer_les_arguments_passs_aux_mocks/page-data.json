{"componentChunkName":"component---src-templates-blog-post-js","path":"/mockito_tips_argument_captor_rcuprer_les_arguments_passs_aux_mocks/","result":{"data":{"site":{"siteMetadata":{"title":"Technical Debt"}},"markdownRemark":{"id":"7063f300-cf40-5a9c-9973-478548e056c5","excerpt":"Définir un ArgumentCaptor pour récupérer les objets fournis à des mocks.","html":"<p>Définir un ArgumentCaptor pour récupérer les objets fournis à des mocks.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">final</span> <span class=\"token class-name\">ArgumentCaptor</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">></span></span> stringArgument <span class=\"token operator\">=</span> <span class=\"token class-name\">ArgumentCaptor</span><span class=\"token punctuation\">.</span><span class=\"token function\">forClass</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">when</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>monMock<span class=\"token punctuation\">.</span><span class=\"token function\">maMethode</span><span class=\"token punctuation\">(</span><span class=\"token function\">anyString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">thenReturn</span><span class=\"token punctuation\">(</span>“toto”<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// Verify we passed the right argument</span>\n<span class=\"token function\">verify</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>monMock<span class=\"token punctuation\">,</span> <span class=\"token function\">times</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">maMethode</span><span class=\"token punctuation\">(</span>stringArgument<span class=\"token punctuation\">.</span><span class=\"token function\">capture</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">assertEquals</span><span class=\"token punctuation\">(</span>“tutu”<span class=\"token punctuation\">,</span> stringArgument<span class=\"token punctuation\">.</span><span class=\"token function\">getValue</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>","frontmatter":{"title":"Mockito Tips: Argument captor, récupérer les arguments passés aux mocks","date":"March 05, 2015","description":null}}},"pageContext":{"slug":"/mockito_tips_argument_captor_rcuprer_les_arguments_passs_aux_mocks/","previous":{"fields":{"slug":"/gcs_git_cheat_sheet/"},"frontmatter":{"title":"GCS: Git Cheat Sheet"}},"next":{"fields":{"slug":"/spring_ws_soap_et_conduit_http_avec_ssl/"},"frontmatter":{"title":"Spring: WS SOAP et conduit http avec SSL"}}}},"staticQueryHashes":["2841359383","916993862"]}