{"componentChunkName":"component---src-templates-blog-post-js","path":"/affichage_de_la_branche_git_dans_le_prompt_shell/","result":{"data":{"site":{"siteMetadata":{"title":"Technical Debt"}},"markdownRemark":{"id":"497e85e7-33b3-53a3-8180-be9f63f937c1","excerpt":"=======\nUPDATE 2020 Utiliser plutôt  Oh-my-zsh qui gère nativement cet affichage et possède de nombreuses autres features. =======  Télécharger dans son…","html":"<p>=======\nUPDATE 2020</p>\n<p>Utiliser plutôt <a href=\"https://github.com/ohmyzsh/ohmyzsh\" title=\"Example\"> Oh-my-zsh</a> qui gère nativement cet affichage et possède de nombreuses autres features.</p>\n<p>=======</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/technical-debt/static/143e2665827fcf53fb9582a405f489b4/4597d/prompt.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 31.645569620253163%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAIAAABM9SnKAAAACXBIWXMAAAsSAAALEgHS3X78AAAAwUlEQVQY03WPyRKEIAxE2WTHA+q4g6Pl///itHjx4PShC1J5SYdM03Qcx7IswzDknPu+n4q2bavrmhAiRMUYI6+a5xkwuruue8KY1RZ92hiDMkZba0PwzjnvvVLqgtcidMcYAQDGlPvbNI1UilMqGakEp4xxzllxSukFj+O47ztiA0spwVEBjDeKa8p9E76RzW3Qxr7EPs8Ty7EWd8JRubB1xRRrnaqEraiWQt5Rn0J6YwxcSqm1hqsiPHAeEpL/+gFB9BN9hZYAvQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"résultat\"\n        title=\"résultat\"\n        src=\"/technical-debt/static/143e2665827fcf53fb9582a405f489b4/f058b/prompt.png\"\n        srcset=\"/technical-debt/static/143e2665827fcf53fb9582a405f489b4/c26ae/prompt.png 158w,\n/technical-debt/static/143e2665827fcf53fb9582a405f489b4/6bdcf/prompt.png 315w,\n/technical-debt/static/143e2665827fcf53fb9582a405f489b4/f058b/prompt.png 630w,\n/technical-debt/static/143e2665827fcf53fb9582a405f489b4/4597d/prompt.png 631w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>Télécharger dans son répertoire perso, le script SH qui fait le boulot:</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token function\">curl</span> https://raw.githubusercontent.com/git/git/master/contrib/completion/git-prompt.sh -o ~/.git-prompt.sh</code></pre></div>\n<p>Modifier son .bashrc</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token function\">vi</span> ~/.bashrc</code></pre></div>\n<p>Se placer à la ligne où on définit l’entête du prompt.\nExecuter le script précédemment téléchargé, puis modifier le prompt.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token comment\"># Load in the git branch prompt script.</span>\n<span class=\"token builtin class-name\">source</span> ~/.git-prompt.sh\n\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">[</span> <span class=\"token string\">\"<span class=\"token variable\">$color_prompt</span>\"</span> <span class=\"token operator\">=</span> <span class=\"token function\">yes</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">then</span>\n   <span class=\"token assign-left variable\"><span class=\"token environment constant\">PS1</span></span><span class=\"token operator\">=</span><span class=\"token string\">'<span class=\"token variable\">${debian_chroot<span class=\"token operator\">:+</span>($debian_chroot)}</span>\\[<span class=\"token entity\" title=\"\\033\">\\033</span>[01;32m\\]\\u@\\h\\[<span class=\"token entity\" title=\"\\033\">\\033</span>[00m\\]:\\[<span class=\"token entity\" title=\"\\033\">\\033</span>[01;34m\\]\\w\\[<span class=\"token entity\" title=\"\\e\">\\e</span>[33m\\]<span class=\"token variable\"><span class=\"token variable\">$(</span>__git_ps1 <span class=\"token string\">\" (%s)\"</span><span class=\"token variable\">)</span></span>\\[<span class=\"token entity\" title=\"\\e\">\\e</span>[m\\]\\$ '</span>\n   <span class=\"token comment\"># PS1='${debian_chroot:+($debian_chroot)}\\[\\033[01;32m\\]\\u@\\h\\[\\033[00m\\]:\\[\\033[01;34m\\]\\w \\[\\e[33m\\]$(__git_ps1 \"(%s)\")\\[\\033[01;34m\\]\\$\\[\\033[00m\\] '</span>\n<span class=\"token keyword\">else</span>\n   <span class=\"token assign-left variable\"><span class=\"token environment constant\">PS1</span></span><span class=\"token operator\">=</span><span class=\"token string\">'[\\u@\\h \\w<span class=\"token variable\"><span class=\"token variable\">$(</span>__git_ps1 <span class=\"token string\">\" (%s)\"</span><span class=\"token variable\">)</span></span>]\\$ '</span>\nFi</code></pre></div>\n<p>Mettre à jour son .bashrc</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token builtin class-name\">source</span> ~/.bashrc</code></pre></div>\n<p>Source :\n<a href=\"http://git-prompt.sh/\">http://git-prompt.sh/</a></p>","frontmatter":{"title":"Branche git et prompt shell","date":"February 02, 2016","description":"Affichage de la branche Git dans le prompt shell"}}},"pageContext":{"slug":"/affichage_de_la_branche_git_dans_le_prompt_shell/","previous":{"fields":{"slug":"/soap_interceptor/"},"frontmatter":{"title":"Utiliser un intercepteur SOAP"}},"next":null}},"staticQueryHashes":["2841359383","916993862"]}