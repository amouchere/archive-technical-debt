{"componentChunkName":"component---src-templates-blog-post-js","path":"/dynamicLogger/","result":{"data":{"site":{"siteMetadata":{"title":"Technical Debt"}},"markdownRemark":{"id":"1d435b60-48dc-5e13-be98-c4f6f3a9efa5","excerpt":"How to create a logback logger by the code:","html":"<p>How to create a logback logger by the code:</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">DynamicLogger</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">static</span> <span class=\"token class-name\">LoggerContext</span> context <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">LoggerContext</span><span class=\"token punctuation\">)</span> <span class=\"token class-name\">LoggerFactory</span><span class=\"token punctuation\">.</span><span class=\"token function\">getILoggerFactory</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n     <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token class-name\">Logger</span> <span class=\"token function\">createSpecificLogger</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">final</span> <span class=\"token class-name\">String</span> fileName<span class=\"token punctuation\">,</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">String</span> loggingPath<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token class-name\">Logger</span> logger <span class=\"token operator\">=</span> context<span class=\"token punctuation\">.</span><span class=\"token function\">getLogger</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"dynamic_logger_\"</span> <span class=\"token operator\">+</span> fileName<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token comment\">// Don't inherit root appender</span>\n        logger<span class=\"token punctuation\">.</span><span class=\"token function\">setAdditive</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token class-name\">FileAppender</span> fileAppender <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">FileAppender</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        fileAppender<span class=\"token punctuation\">.</span><span class=\"token function\">setContext</span><span class=\"token punctuation\">(</span>context<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        fileAppender<span class=\"token punctuation\">.</span><span class=\"token function\">setName</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"dynamic_logger_fileAppender_\"</span> <span class=\"token operator\">+</span> fileName<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token comment\">// Optional</span>\n        fileAppender<span class=\"token punctuation\">.</span><span class=\"token function\">setFile</span><span class=\"token punctuation\">(</span>loggingPath <span class=\"token operator\">+</span> <span class=\"token string\">\"/\"</span> <span class=\"token operator\">+</span> fileName <span class=\"token operator\">+</span> <span class=\"token string\">\".log\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        fileAppender<span class=\"token punctuation\">.</span><span class=\"token function\">setAppend</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token comment\">// set up pattern encoder</span>\n        <span class=\"token class-name\">PatternLayoutEncoder</span> encoder <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">PatternLayoutEncoder</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        encoder<span class=\"token punctuation\">.</span><span class=\"token function\">setContext</span><span class=\"token punctuation\">(</span>context<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        encoder<span class=\"token punctuation\">.</span><span class=\"token function\">setPattern</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"%d{dd-MM-yyyy HH:mm:ss,SSS} - %p | %m%n\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        encoder<span class=\"token punctuation\">.</span><span class=\"token function\">start</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        fileAppender<span class=\"token punctuation\">.</span><span class=\"token function\">setEncoder</span><span class=\"token punctuation\">(</span>encoder<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        fileAppender<span class=\"token punctuation\">.</span><span class=\"token function\">start</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token comment\">// Attach appender to logger</span>\n        logger<span class=\"token punctuation\">.</span><span class=\"token function\">addAppender</span><span class=\"token punctuation\">(</span>fileAppender<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        logger<span class=\"token punctuation\">.</span><span class=\"token function\">setLevel</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Level</span><span class=\"token punctuation\">.</span>TRACE<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>","frontmatter":{"title":"Création dynamique d'un logger","date":"February 21, 2017","description":null}}},"pageContext":{"slug":"/dynamicLogger/","previous":{"fields":{"slug":"/autoincrement-MySQL/"},"frontmatter":{"title":"Vérifier l'autoincrément en MySQL"}},"next":{"fields":{"slug":"/JGitFlow/"},"frontmatter":{"title":"JGitFlow"}}}},"staticQueryHashes":["2841359383","916993862"]}